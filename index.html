<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript">
      window.addEventListener("load", function () {
        var popUpWindow;
        function popup(n) {
          popUpWindow = window.open(n, 'popUpWindow','height=1000,width=1500,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes');
        }
        function foo(obj){
          test1 = "https://bsi-uat.herokuapp.com/session?token=f9mwU29Rvy6jX5-yas4PKw==";
          popUpWindow.document.write('<iframe height="1000" allowTransparency="true" frameborder="0" scrolling="yes" style="width:100%;" src="'+test1+'" type= "text/javascript"></iframe>');
        }

        window.addEventListener("message", function(event) {
            $('#result').html("Child window says: " + event.data);
          }, false);
      });
      
    </script>
  </head>
  <body>
    <a href="#" onclick="popup('popUpDiv');foo(this);">Try Me!</a>
    <div id="result"></div>
  </body>
</html>
